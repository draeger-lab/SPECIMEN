# Configuration file for the SPECIMEN CMPB pipeline
# parameters with the value __USER__ are required to be specified by the user

# meta info:
#    model:     __USER__
#    organism:  __USER__
#    date:      __USER__
#    author:    __USER__

# input for the pipeline
# ----------------------
input:
  modelpath: NULL            # optional, path to a model. 
                             # If not given, runs CarveMe
  annotated_genome: __USER__ # required, path to the annotated genome file
  mediapath: __USER__        # path to a media config to tests growth with

# general options
# ---------------
general:
  dir: './'                  # Path/Name of a directory to save output to
  namespace: BiGG            # namespace to use for the model
  save_all_models: True      # save all models (models for each step)
  memote_always_on: False    # run memote after every step
  stats_always_on: False     # calculate the model statistics after every step

# part-specific options
# ---------------------

# polish a CarveMe model
#    only neccessary, if the mode will or has been build with CarveMe
#    will only be used, if model is indeed a CarveMe model
cm-polish:
  email: USER              # User Mail to use for Entrez 
  refseq_gff: USER 
  protein_fasta: USER      # optional, except for is_lab_strain: True
  is_lab_strain: False     # whether the users strain originates from a lab 
  kegg_organism_id: USER   # KEGG ID of the organism 

# gapfilling, optional
gapfilling:
  # @TODO

# add KEGG pathways as groups, optional
kegg_pathway_groups: True  # decide, whether to run this or not

# resolve duplicates
duplicates:
  # three possible option for the resolvement of duplicates for the following model entities:
  # - check:  check for duplicates and simply report them
  # - remove: check for and remove duplicates from the model (if possible)
  # - skip:   skip the resolvement 
  reactions: remove
  metabolites: remove
  # additional remove unused metabolites (reduces possible knowledge base)
  remove_unused_metabs: False

# BOFdat / Biomass objective function
BOF:
  run_bofdat: 
  # @TODO



##################
# old struff below
##################

# compare metabolites to the ModelSEED database
modelseed: FALSE # set to False if not needed


Settings for scripts that manipulate the model: >
  They are all split into the ON / OFF switch (TRUE / FALSE) and additional settings like a path to where the new model should be saved.

model_out: '' # path and filename to where to save the modified model
entrez_email: '' # necessary to access NCBI API
organismid: 'cstr'  # Needs to be specified for db_to_compare='KEGG' for the gap_analysis, Can be provided for polish
gff_file: 'data/cstr.gff'  # Path to RefSeq GFF file: Required for db_to_compare='KEGG', Can be provided for polish


### SBO-Term Annotation ###
sboterms: FALSE

### Model polishing ### The database of the model identifiers needs to be specified with 'id_db'
polish: FALSE
id_db: 'BIGG' # Required!
# Possible identifiers, currently: BiGG & VMH
# For other IDs the `polish` function in `polish.py` might need adjustment
lab_strain: FALSE # Needs to be set to ensure that protein IDs get the 'bqbiol:isHomologTo' qualifier
                  # & to set the locus_tag to the ones obtained by the annotation
protein_fasta: '' # Path to used CarveMe input file, if exists; Needs to be set for lab_strain: True

### Charge correction ###
charge_corr: FALSE

### Manual Curation ###
man_cur: FALSE
man_cur_type: 'gapfill' # either 'gapfill' or 'metabs'
man_cur_table: 'data/manual_curation.xlsx'

### Automatic gap filling ###
# All parameters are required for all db_to_compare choices except:
# - organismid which is only required for db_to_compare: 'KEGG'/'KEGG+BioCyc'
# - and biocyc_files which is not required for 'KEGG'
gap_analysis: FALSE
gap_analysis_params:
  db_to_compare: 'KEGG'  # One of the choices KEGG|BioCyc|KEGG+BioCyc 
  biocyc_files: 
    - 'Path0'  # Path to TXT file containing a SmartTable from BioCyc with the columns 'Accession-2' 'Reaction of gene' (-)
    - 'Path1'  # Path to TXT file containing a SmartTable with all reaction relevant information (*)
    - 'Path2'  # Path to TXT file containing a SmartTable with all metabolite relevant information (+)
    - 'Path3'  # Path to protein FASTA file used as input for CarveMe (Needed to get the protein IDs from the locus tags)
# (-) If the organism is not in BioCyc retrieve a table mapping all reactions in BioCyc to the corresponding sequence
# (*) 'Reaction' 'Reactants of reaction' 'Products of reaction' 'EC-Number' 'KEGG Reaction' 'MetaNetX' 'Reaction-Direction' 'Spontaneous?'
# (+) 'Compound' 'Object ID' 'Chemical Formula' 'InChI-Key' 'ChEBI'
gapfill_model: FALSE
gap_analysis_file: 'Path to Excel file with which gaps in model should be filled'
# Either obtained by running gapfill_analysis/Created by hand with the same structure as the result file from gapfill_analysis
# Example Excel file to fill in by hand: data/modelName_gapfill_analysis_date_example.xlsx